package main

import (
	"fmt"
	"os"
)

var tr = []rune{
	' ',
	'☺',
	'☻',
	'♥',
	'♦',
	'♣',
	'♠',
	'•',
	'◘',
	'○',
	'◙',
	'♂',
	'♀',
	'♪',
	'♫',
	'☼',
	'►',
	'◄',
	'↕',
	'‼',
	'¶',
	'§',
	'▬',
	'↨',
	'↑',
	'↓',
	'→',
	'←',
	'∟',
	'↔',
	'▲',
	'▼',
	' ',
	'!',
	'"',
	'#',
	'$',
	'%',
	'&',
	'\'',
	'(',
	')',
	'*',
	'+',
	',',
	'-',
	'.',
	'/',
	'0',
	'1',
	'2',
	'3',
	'4',
	'5',
	'6',
	'7',
	'8',
	'9',
	':',
	';',
	'<',
	'=',
	'>',
	'?',
	'@',
	'A',
	'B',
	'C',
	'D',
	'E',
	'F',
	'G',
	'H',
	'I',
	'J',
	'K',
	'L',
	'M',
	'N',
	'O',
	'P',
	'Q',
	'R',
	'S',
	'T',
	'U',
	'V',
	'W',
	'X',
	'Y',
	'Z',
	'[',
	'\\',
	']',
	'^',
	'_',
	'`',
	'a',
	'b',
	'c',
	'd',
	'e',
	'f',
	'g',
	'h',
	'i',
	'j',
	'k',
	'l',
	'm',
	'n',
	'o',
	'p',
	'q',
	'r',
	's',
	't',
	'u',
	'v',
	'w',
	'x',
	'y',
	'z',
	'{',
	'|',
	'}',
	'~',
	'⌂',
	'Ç',
	'ü',
	'é',
	'â',
	'ä',
	'à',
	'å',
	'ç',
	'ê',
	'ë',
	'è',
	'ï',
	'î',
	'ì',
	'Ä',
	'Å',
	'É',
	'æ',
	'Æ',
	'ô',
	'ö',
	'ò',
	'û',
	'ù',
	'ÿ',
	'Ö',
	'Ü',
	'¢',
	'£',
	'¥',
	'₧',
	'ƒ',
	'á',
	'í',
	'ó',
	'ú',
	'ñ',
	'Ñ',
	'ª',
	'º',
	'¿',
	'⌐',
	'¬',
	'½',
	'¼',
	'¡',
	'«',
	'»',
	'░',
	'▒',
	'▓',
	'│',
	'┤',
	'╡',
	'╢',
	'╖',
	'╕',
	'╣',
	'║',
	'╗',
	'╝',
	'╜',
	'╛',
	'┐',
	'└',
	'┴',
	'┬',
	'├',
	'─',
	'┼',
	'╞',
	'╟',
	'╚',
	'╔',
	'╩',
	'╦',
	'╠',
	'═',
	'╬',
	'╧',
	'╨',
	'╤',
	'╥',
	'╙',
	'╘',
	'╒',
	'╓',
	'╫',
	'╪',
	'┘',
	'┌',
	'█',
	'▄',
	'▌',
	'▐',
	'▀',
	'α',
	'ß',
	'Γ',
	'π',
	'Σ',
	'σ',
	'µ',
	'τ',
	'Φ',
	'Θ',
	'Ω',
	'δ',
	'∞',
	'φ',
	'ε',
	'∩',
	'≡',
	'±',
	'≥',
	'≤',
	'⌠',
	'⌡',
	'÷',
	'≈',
	'°',
	'∙',
	'·',
	'√',
	'ⁿ',
	'²',
	'■',
	' ',
}

func main() {
	files := make([]*os.File, 0, len(os.Args))
	var stdin bool

	if stdin = len(os.Args) == 1; stdin {
		files = append(files, os.Stdin)
	} else {
		for _, filename := range os.Args[1:] {
			file, err := os.Open(filename)
			if err != nil {
				fmt.Fprintln(os.Stderr, err.Error())
				os.Exit(1)
			}
			files = append(files, file)
		}
	}

	for _, file := range files {
		var err error
		var bytes = []byte{'a'}
		var lf = false
		for err == nil {
			_, err = file.Read(bytes)
			if bytes[0] == '\x0d' {
				lf = true
			} else {
				if lf && bytes[0] == '\x0a' {
					fmt.Println()
					lf = false
				} else {
					if lf {
						fmt.Print(string(tr[0x0d]))
						lf = false
					}
					fmt.Print(string(tr[bytes[0]]))
				}
			}
		}
		if !stdin {
			file.Close()
		}
	}
}
